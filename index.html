<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
    <title>Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap"
    rel="stylesheet"
  />
  <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon.png">
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />
</head>

<body>
  <!-- GOALS VIEW (with its own navbar, tabs, and content) -->
  <section id="goalsView">
    <!-- NAVBAR -->
    <nav class="navbar">
      <div class="container navbar-inner">
        <div class="navbar-left site-name">Dashboard</div>
        <div class="navbar-right">
          <button type="button" id="loginBtn" style="display:none;">Sign In</button>
        </div>
      </div>
      <div class="tabs scroll-tabs" id="tabsContainer" style="visibility:hidden;">
        <button class="tab-button active" data-target="moviesPanel">Movies</button>
        <button class="tab-button" data-target="showsPanel">Live Music</button>
        <button class="tab-button" data-target="eventbritePanel">Eventbrite Events</button>
        <button class="tab-button" data-target="facebookEventsPanel">Facebook Events</button>
        <button class="tab-button" data-target="comedyPanel">Stand-Up Comedy</button>
        <button class="tab-button" data-target="recipesPanel">Recipes</button>
        <button class="tab-button" data-target="restaurantsPanel">Restaurants</button>
      </div>
    </nav>

    <!-- TABS CONTENT PANELS -->
    <!-- MOVIES PANEL -->

    <!-- MOVIES PANEL -->
      <div id="moviesPanel" class="main-layout" style="display:none">
        <div class="full-column">
          <div class="panel-header">
            <h2>Movies</h2>
            <button type="button" class="icon-btn tab-hide-btn" title="Hide Tab">ðŸ•’</button>
          </div>
          <div id="moviesForm" style="margin-bottom:1rem;">
            <div id="moviesApiKeyContainer" style="display:inline-block;">
              <input type="text" id="moviesApiKey" placeholder="TMDB API Key" style="margin-right:.5rem;">
            </div>
          </div>
          <div id="movieTabs" class="movie-tabs">
            <button class="movie-tab active" data-target="movieStreamSection">Movie Stream</button>
            <button class="movie-tab" data-target="savedMoviesSection">Saved Movies</button>
            <button class="movie-tab" data-target="watchedMoviesSection">Watched Movies</button>
          </div>
          <div id="movieStreamSection">
            <div id="movieList" class="decision-container"></div>
          </div>
          <div id="savedMoviesSection" style="display:none;">
            <div id="savedMoviesList" class="decision-container"></div>
          </div>
          <div id="watchedMoviesSection" style="display:none;">
            <div id="watchedMoviesList" class="decision-container"></div>
          </div>
          <footer id="tmdbNotice" class="tmdb-notice">
            Uses the <a href="https://developer.themoviedb.org/reference/intro/getting-started" target="_blank" rel="noopener noreferrer">TMDB API</a>.
          </footer>
        </div>
      </div>

    <!-- LIVE MUSIC PANEL -->
      <div id="showsPanel" class="main-layout" style="display:none">
        <div class="full-column">
          <div class="panel-header">
            <h2>Live Music</h2>
            <button type="button" class="icon-btn tab-hide-btn" title="Hide Tab">ðŸ•’</button>
          </div>
          <div id="ticketmasterForm" style="margin-bottom:1rem;display:flex;align-items:center;gap:.5rem;">
            <button type="button" id="spotifyTokenBtn" style="margin-right:.5rem;">Login to Spotify</button>
            <span id="spotifyStatus"></span>
            <input type="password" id="ticketmasterApiKey" placeholder="Ticketmaster API Key" style="margin-right:.5rem;">
          </div>
          <div id="showsTabs" class="movie-tabs">
            <button type="button" class="movie-tab shows-tab active" data-target="showsFeedSection">Discover</button>
            <button type="button" class="movie-tab shows-tab" data-target="showsInterestedSection">Your Live Music Events</button>
          </div>
          <div id="showsFeedSection">
            <div id="ticketmasterList" class="decision-container"></div>
          </div>
          <div id="showsInterestedSection" style="display:none;">
            <div id="ticketmasterInterestedList" class="decision-container"></div>
          </div>
        </div>
      </div>

    <!-- EVENTBRITE EVENTS PANEL -->
      <div id="eventbritePanel" class="main-layout" style="display:none">
        <div class="full-column">
          <div class="panel-header">
            <h2>Eventbrite Events</h2>
            <button type="button" class="icon-btn tab-hide-btn" title="Hide Tab">ðŸ•’</button>
          </div>
          <div id="eventbriteForm" style="margin-bottom:1rem;display:flex;flex-wrap:wrap;gap:.5rem;align-items:flex-end;">
            <input type="password" id="eventbriteToken" placeholder="Eventbrite API Token" style="flex:1 1 220px;min-width:200px;">
            <input type="text" id="eventbriteQuery" placeholder="Search keywords" style="flex:1 1 160px;min-width:160px;">
            <input type="text" id="eventbriteLocation" placeholder="City or location" style="flex:1 1 160px;min-width:160px;">
            <label style="display:flex;flex-direction:column;font-size:.85rem;gap:.25rem;">
              Radius
              <select id="eventbriteRadius" style="min-width:120px;">
                <option value="10mi">10 mi</option>
                <option value="25mi">25 mi</option>
                <option value="50mi" selected>50 mi</option>
                <option value="100mi">100 mi</option>
              </select>
            </label>
            <button type="button" id="eventbriteSearchBtn">Search</button>
          </div>
          <div id="eventbriteResults" class="decision-container"></div>
          <footer class="tmdb-notice" style="margin-top:0.75rem;">
            Uses the <a href="https://www.eventbrite.com/platform/api" target="_blank" rel="noopener noreferrer">Eventbrite API</a>.
          </footer>
        </div>
      </div>

    <!-- FACEBOOK EVENTS PANEL -->
      <div id="facebookEventsPanel" class="main-layout" style="display:none">
        <div class="full-column">
          <div class="panel-header">
            <h2>Facebook Events</h2>
            <button type="button" class="icon-btn tab-hide-btn" title="Hide Tab">ðŸ•’</button>
          </div>
          <div id="facebookEventsForm" style="margin-bottom:1rem;display:flex;flex-wrap:wrap;gap:.5rem;align-items:flex-end;">
            <input type="password" id="facebookAccessToken" placeholder="Facebook Access Token" style="flex:1 1 220px;min-width:200px;">
            <input type="text" id="facebookPageId" placeholder="Page or Organizer ID" style="flex:1 1 200px;min-width:180px;">
            <label style="display:flex;flex-direction:column;font-size:.85rem;gap:.25rem;">
              Limit
              <select id="facebookLimit" style="min-width:120px;">
                <option value="10" selected>10</option>
                <option value="25">25</option>
                <option value="50">50</option>
              </select>
            </label>
            <button type="button" id="facebookFetchBtn">Fetch Events</button>
          </div>
          <div id="facebookEventsList" class="decision-container"></div>
          <footer class="tmdb-notice" style="margin-top:0.75rem;">
            Uses the <a href="https://developers.facebook.com/docs/graph-api/reference/page/events/" target="_blank" rel="noopener noreferrer">Facebook Graph API</a>.
          </footer>
    <!-- STAND-UP COMEDY PANEL -->
      <div id="comedyPanel" class="main-layout" style="display:none">
        <div class="full-column">
          <div class="panel-header">
            <h2>Stand-Up Comedy</h2>
            <button type="button" class="icon-btn tab-hide-btn" title="Hide Tab">ðŸ•’</button>
          </div>
          <div id="comedyForm" style="margin-bottom:1rem;">
            <input type="password" id="comedyTicketmasterApiKey" placeholder="Ticketmaster API Key" style="margin-right:.5rem;">
            <button type="button" id="comedyLoadBtn">Load Stand-Up</button>
          </div>
          <div id="comedyTabs" class="movie-tabs">
            <button type="button" class="movie-tab comedy-tab active" data-target="comedyFeedSection">Discover</button>
            <button type="button" class="movie-tab comedy-tab" data-target="comedyInterestedSection">Your Comedy Events</button>
          </div>
          <div id="comedyFeedSection">
            <div id="comedyList" class="decision-container"></div>
          </div>
          <div id="comedyInterestedSection" style="display:none;">
            <div id="comedyInterestedList" class="decision-container"></div>
          </div>
        </div>
      </div>
    <!-- RECIPES PANEL -->
      <div id="recipesPanel" class="main-layout" style="display:none;">
        <div class="full-column">
          <div class="panel-header">
            <h2>Recipes</h2>
            <button type="button" class="icon-btn tab-hide-btn" title="Hide Tab">ðŸ•’</button>
          </div>
          <div id="recipesForm" style="margin-bottom:1rem;">
            <input type="text" id="recipesQuery" placeholder="Search (e.g. chicken)" style="margin-right:.5rem;">
            <div id="recipesApiKeyContainer" style="display:inline-block;">
              <input type="text" id="recipesApiKey" placeholder="API Key" style="margin-right:.5rem;">
              <div id="recipesApiKeyInstructions" style="font-size:0.8rem;margin-top:0.5rem;">
                Get a free API key from <a href="https://api-ninjas.com/profile" target="_blank" rel="noopener noreferrer">API Ninjas</a>.
              </div>
            </div>
            <button type="button" id="recipesSearchBtn" aria-label="Search recipes">Search</button>
          </div>
          <div id="recipesList" class="decision-container"></div>
          <div style="font-size:0.8rem;margin-top:0.5rem;">
            Uses the <a href="https://api-ninjas.com/api/recipe" target="_blank" rel="noopener noreferrer">API Ninjas Recipe API</a>.
          </div>
        </div>
      </div>

    <!-- RESTAURANTS PANEL -->
      <div id="restaurantsPanel" class="main-layout" style="display:none;">
        <div class="full-column">
          <div class="panel-header">
            <h2>Restaurants</h2>
            <button type="button" class="icon-btn tab-hide-btn" title="Hide Tab">ðŸ•’</button>
          </div>
      <div class="restaurants-layout">
        <div
          id="restaurantsMap"
          class="restaurants-map"
          role="img"
          aria-label="Map showing nearby restaurant locations"
        ></div>
        <div id="restaurantsResults" class="restaurants-list decision-container" aria-live="polite"></div>
      </div>
    </div>
  </div>

  </section>

  <nav id="bottomNav" class="bottom-nav">
    <a href="settings.html" class="icon-btn" id="bottomSettingsBtn"><img src="assets/gear.svg" alt="Settings"></a>
    <button type="button" id="bottomAddBtn" class="icon-btn circle-btn icon-button"><img src="assets/plus.svg" alt="Add" /></button>
    <button type="button" id="bottomLogoutBtn" class="icon-btn"><img src="assets/sign-out.svg" alt="Sign Out" /></button>
  </nav>

  <!-- Modal shown when using the bottom add button -->
  <div id="bottomAddModal" class="modal" style="display:none;">
    <div class="modal-content">
      <h3 id="bottomAddTitle"></h3>
      <div id="bottomAddOptions" class="rating-options"></div>
      <div id="bottomAddSection" class="rating-options" style="display:none;margin-top:8px;"></div>
      <input id="bottomAddText" type="text" placeholder="Description" style="display:none;margin-top:8px;width:100%;" />
      <div class="modal-actions" style="margin-top:1em;">
        <button type="button" id="bottomAddCancel">Cancel</button>
        <button type="button" id="bottomAddSubmit">Add</button>
      </div>
    </div>
  </div>
  <div id="contactModal" class="modal" style="display:none;">
    <div class="modal-content" style="max-width:400px;width:90%;max-height:80vh;overflow:auto;">
      <h3>Contact Developer</h3>
      <form id="contactForm">
        <div style="margin-bottom:8px;">
          <label>Name<br><input type="text" id="contactName" /></label>
        </div>
        <div style="margin-bottom:8px;">
          <label>Email<br><input type="email" id="contactEmailInput" required /></label>
        </div>
        <div style="margin-bottom:8px;">
          <label>Message<br><textarea id="contactMessage" required style="width:100%;height:100px;"></textarea></label>
        </div>
        <div class="modal-actions" style="margin-top:1em;">
          <button type="submit">Send</button>
          <button type="button" id="contactCancelBtn">Cancel</button>
        </div>
      </form>
    </div>
  </div>
  <script src="https://apis.google.com/js/api.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script type="module" src="js/main.js"></script>
  <script type="module" src="js/movies.js"></script>
  <script type="module" src="js/shows.js"></script>
  <script type="module" src="js/eventbrite.js"></script>
  <script type="module" src="js/facebookEvents.js"></script>
  <script type="module" src="js/comedy.js"></script>
  <script type="module" src="js/recipes.js"></script>
  <script type="module" src="js/restaurants.js"></script>
  <script type="module" src="js/weather.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</body>
</html>
